import{r,u as v,f as w,L as p,j as e,m as d,A as f,b as y,U as N,P as z,C as h,E as C}from"./index-ClueG-wO.js";const P=t=>!t.isLayoutDirty&&t.willUpdate(!1);function b(){const t=new Set,n=new WeakMap,a=()=>t.forEach(P);return{add:s=>{t.add(s),n.set(s,s.addEventListener("willUpdate",a))},remove:s=>{t.delete(s);const i=n.get(s);i&&(i(),n.delete(s)),a()},dirty:a}}const S=r.createContext(null);function E(){const t=r.useRef(!1);return v(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function L(){const t=E(),[n,a]=r.useState(0),s=r.useCallback(()=>{t.current&&a(n+1)},[n]);return[r.useCallback(()=>w.postRender(s),[s]),n]}const j=t=>t===!0,R=t=>j(t===!0)||t==="id",k=({children:t,id:n,inherit:a=!0})=>{const s=r.useContext(p),i=r.useContext(S),[u,l]=L(),o=r.useRef(null),c=s.id||i;o.current===null&&(R(a)&&c&&(n=n?c+"-"+n:c),o.current={id:n,group:j(a)&&s.group||b()});const x=r.useMemo(()=>({...o.current,forceRender:u}),[l]);return e.jsx(p.Provider,{value:x,children:t})},g=[{id:1,time:"09:00",name:"Ana Silva",type:"Primera Consulta",status:"finished",duration:30},{id:2,time:"09:30",name:"Jorge M.",type:"Control",status:"in-progress",duration:30},{id:"gap",time:"10:00",type:"gap",duration:30},{id:4,time:"10:30",name:"Marcos R.",type:"Consulta",status:"pending",duration:30}],A={id:3,time:"10:00",name:"Lucía P.",type:"Estudios",status:"confirmed",duration:30},M=()=>{const[t,n]=r.useState(g),[a,s]=r.useState(!1),[i,u]=r.useState(!1);r.useEffect(()=>{let o=!0;return(async()=>{for(;o;)n(g),s(!1),u(!1),await l(1e3),s(!0),await l(2e3),u(!0),await l(1500),n(x=>x.map(m=>m.id==="gap"?A:m)),s(!1),await l(4e3)})(),()=>{o=!1}},[]);const l=o=>new Promise(c=>setTimeout(c,o));return e.jsxs("div",{className:"w-full h-full bg-zinc-900 rounded-3xl border border-white/5 flex flex-col relative overflow-hidden font-sans shadow-2xl",children:[e.jsxs("div",{className:"h-14 flex items-center justify-between px-5 border-b border-white/5 bg-zinc-800/30 backdrop-blur-sm z-20",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-normal font-righteous text-white tracking-wide uppercase",children:"Agenda en Vivo"}),e.jsx("span",{className:"text-xs text-zinc-500 block",children:"Dr. Alejandro"})]})]}),e.jsx("div",{className:"px-2 py-1 rounded bg-white/5 border border-white/5 text-xs text-zinc-400 font-mono",children:"HOY, 24 SEP"})]}),e.jsxs("div",{className:"flex-1 p-4 overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 bottom-0 left-[3.5rem] w-[1px] bg-white/5 z-0"}),e.jsxs(d.div,{className:"absolute left-0 right-0 z-10 flex items-center pointer-events-none",initial:{top:"35%"},animate:{top:"38%"},transition:{duration:8,ease:"linear",repeat:1/0,repeatType:"reverse"},children:[e.jsx("div",{className:"w-[3.5rem] text-[10px] text-red-400 font-bold text-right pr-2",children:"09:42"}),e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 -ml-1 shadow-[0_0_8px_rgba(239,68,68,0.6)]"}),e.jsx("div",{className:"flex-1 h-[1px] bg-red-500/50"})]}),e.jsx(k,{children:e.jsx("div",{className:"space-y-2 relative z-0",children:e.jsx(f,{mode:"popLayout",children:t.map(o=>e.jsx(I,{data:o},o.id))})})})]}),e.jsx(f,{children:a&&e.jsx(d.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"absolute bottom-4 left-4 right-4 z-50",children:e.jsxs("div",{className:"bg-zinc-800 border border-white/10 p-3 rounded-xl shadow-2xl flex items-center gap-3 backdrop-blur-md",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-colors duration-500 ${i?"bg-violet-500/20 text-violet-400":"bg-blue-500/20 text-blue-400"}`,children:i?e.jsx(y,{size:16,className:"animate-spin"}):e.jsx(N,{size:16})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[e.jsx("span",{className:"text-sm font-bold text-white",children:i?"Buscando hueco...":"Nueva Solicitud"}),e.jsx("span",{className:"text-xs text-zinc-500",children:"Ahora"})]}),e.jsx("p",{className:"text-xs text-zinc-400 leading-tight",children:i?"Optimizando agenda del día...":"Lucía P. solicita turno para Estudios."})]})]})})})]})},I=({data:t})=>{const n=t.type==="gap",a=t.status==="finished",s=t.status==="in-progress",i=t.status==="confirmed";return e.jsxs(d.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:`
                flex items-center p-2.5 rounded-xl border relative overflow-hidden group
                ${n?"border-dashed border-white/5 bg-white/[0.01]":s?"bg-zinc-800/80 border-violet-500/30 shadow-lg":"bg-transparent border-transparent hover:bg-white/[0.03] border-b-white/[0.02]"}
            `,children:[i&&e.jsx(d.div,{initial:{opacity:0},animate:{opacity:[0,.5,0]},transition:{duration:1,repeat:1},className:"absolute inset-0 bg-green-500/20 pointer-events-none"}),e.jsx("div",{className:`w-12 text-xs font-mono font-medium ${n?"text-zinc-600":"text-zinc-400"}`,children:t.time}),n?e.jsxs("div",{className:"flex-1 flex items-center gap-2 opacity-40",children:[e.jsx("div",{className:"w-8 h-8 rounded-full border border-dashed border-zinc-500 flex items-center justify-center",children:e.jsx(z,{size:12,className:"text-zinc-500"})}),e.jsx("span",{className:"text-xs text-zinc-500 italic",children:"Disponible"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[e.jsx("div",{className:`
                            w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold ring-1 ring-inset
                            ${s?"bg-violet-500 text-white ring-violet-400":"bg-zinc-800 text-zinc-400 ring-white/5"}
                            ${i?"bg-green-500/20 text-green-400 ring-green-500/30":""}
                        `,children:t.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:`text-base font-medium leading-none mb-1 ${s?"text-white":"text-zinc-200"}`,children:t.name}),e.jsx("div",{className:"text-xs text-zinc-500",children:t.type})]})]}),e.jsxs("div",{className:"w-20 flex justify-end",children:[i&&e.jsxs(d.div,{initial:{scale:0},animate:{scale:1},className:"px-1.5 py-0.5 bg-green-500/10 border border-green-500/20 rounded text-[9px] font-bold text-green-400 flex items-center gap-1",children:[e.jsx(h,{size:8})," OK"]}),s&&e.jsx("div",{className:"flex items-center gap-1.5",children:e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-violet-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-violet-500"})]})}),a&&e.jsx(h,{size:14,className:"text-zinc-700"}),!a&&!s&&!i&&e.jsx(C,{size:14,className:"text-zinc-700"})]})]})]})};export{M as default};
